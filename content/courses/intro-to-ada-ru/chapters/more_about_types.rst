–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–∏–ø–∞—Ö
=================

.. _Aggregates:

.. include:: ../../global.txt

–ê–≥—Ä–µ–≥–∞—Ç—ã: –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
----------------------------

–î–æ —Å–∏—Ö –ø–æ—Ä –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –æ–± –∞–≥—Ä–µ–≥–∞—Ç–∞—Ö –¥–æ–≤–æ–ª—å–Ω–æ –º–∞–ª–æ –∏ –ª–∏—à—å –≤–∏–¥–µ–ª–∏ —Ä—è–¥
–ø—Ä–∏–º–µ—Ä–æ–≤. –¢–µ–ø–µ—Ä—å –º—ã –≤–µ—Ä–Ω–µ–º—Å—è –∫ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ.

–ê–≥—Ä–µ–≥–∞—Ç Ada —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —è–≤–ª—è–µ—Ç—Å—è –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ —Ç–∏–ø–∞.
–≠—Ç–æ –æ—á–µ–Ω—å –º–æ—â–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è
–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö –≤–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö.

–û—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∞–≤–∏–ª–æ–º –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ *–∫–∞–∂–¥—ã–π
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç* –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –∑–∞–ø–∏—Å–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω, –¥–∞–∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã,
–∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –Ω–µ–≤–µ—Ä–µ–Ω:

.. code-block:: ada
    :class: ada-expect-compile-error

    package Incorrect is
       type Point is record
          X, Y : Integer := 0;
       end record;

       Origin : Point := (X => 0);
    end Incorrect;

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —è—Ä–ª—ã–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã
—Å–¥–µ–ª–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º:

-  –ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   –Ω–æ—Ç–∞—Ü–∏—é ¬´ :ada:`<>` ¬ª.

-  –°–∏–º–≤–æ–ª ¬´ :ada:`|` ¬ª –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
   –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

-  –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å :ada:`others` –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã,
   –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –±—ã–ª–∏ —É–∫–∞–∑–∞–Ω—ã, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –≤—Å–µ —ç—Ç–∏ –ø–æ–ª—è –∏–º–µ—é—Ç
   –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ç–∏–ø.

-  –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ—Ç–∞—Ü–∏—é –¥–∏–∞–ø–∞–∑–æ–Ω–∞ ¬´ :ada:`..` ¬ª —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é
   –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ.

–û–¥–Ω–∞–∫–æ —Å–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è
—Å–≤—è–∑—å, –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã —Å
–∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è–º–∏ –∏–º–µ–Ω.

.. code-block:: ada

    package Points is
       type Point is record
          X, Y : Integer := 0;
       end record;

       type Point_Array is
         array (Positive range <>) of Point;

       --  use the default values
       Origin   : Point := (X | Y => <>);

       --  likewise, use the defaults
       Origin_2 : Point := (others => <>);

       Points_1 : Point_Array := ((1, 2), (3, 4));
       Points_2 : Point_Array := (1       => (1, 2),
                                  2       => (3, 4),
                                  3 .. 20 => <>);
    end Points;

–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –∏ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
----------------------------------------

–£ Ada –µ—Å—Ç—å –æ–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –∏–º–µ–Ω, –∫–æ—Ç–æ—Ä—É—é –º—ã –≤–∏–¥–µ–ª–∏ —Ä–∞–Ω–µ–µ –≤
—Ä–∞–∑–¥–µ–ª–µ –æ :ref:`—Ç–∏–ø–∞—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è <EnumTypes>`.

–î–∞–≤–∞–π—Ç–µ –≤–æ–∑—å–º–µ–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä: –≤ Ada –≤–æ–∑–º–æ–∂–Ω–æ –∏–º–µ—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å
–æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º, –Ω–æ —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–ª—è –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

.. code-block:: ada
    :class: ada-syntax-only

    package Pkg is
       function F (A : Integer) return Integer;
       function F (A : Character) return Integer;
    end Pkg;

–≠—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ –≤ —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ
–ø–µ—Ä–µ–≥—Ä—É–∑–∫–æ–π, –∏–ª–∏ `–ø–µ—Ä–µ–≥—Ä—É–∑–∫–æ–π –∏–º–µ–Ω
<https://ru.m.wikipedia.org/wiki/–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞_–ø—Ä–æ—Ü–µ–¥—É—Ä_–∏_—Ñ—É–Ω–∫—Ü–∏–π>`_.

–û–¥–Ω–∏–º –∏–∑ –Ω–æ–≤—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ Ada —è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å
—Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

.. code-block:: ada
    :class: ada-syntax-only

    package Pkg is
       type SSID is new Integer;

       function Convert (Self : SSID) return Integer;
       function Convert (Self : SSID) return String;
    end Pkg;

    with Ada.Text_IO; use Ada.Text_IO;
    with Pkg;         use Pkg;

    procedure Main is
       S : String := Convert (123_145_299);
       --            ^ Valid, will choose the
       --              proper Convert
    begin
       Put_Line (S);
    end Main;

.. attention::
    –ó–∞–º–µ—Ç–∏–º, —á—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∫–∞–∫ –¥–ª—è
    —Ñ—É–Ω–∫—Ü–∏–π, —Ç–∞–∫ –∏ –¥–ª—è –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –≤ Ada ‚Äë –≤–æ—Ç –ø–æ—á–µ–º—É —É –≤–∞—Å
    –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º.
    –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –ª–∏—Ç–µ—Ä–∞–ª –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è, –Ω–µ
    –∏–º–µ—é—â–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

–û–¥–Ω–∞–∫–æ –∏–Ω–æ–≥–¥–∞ –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫ –∫–∞–∫–æ–º—É
–æ–±—ä—è–≤–ª–µ–Ω–∏—é –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –¥–∞–Ω–Ω–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏.
–ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ.

.. code-block:: ada

    package Pkg is
       type SSID is new Integer;

       function Convert (Self : SSID) return Integer;
       function Convert (Self : SSID) return String;
       function Convert (Self : Integer) return String;
    end Pkg;

    with Ada.Text_IO; use Ada.Text_IO;
    with Pkg;         use Pkg;

    procedure Main is
       S : String := Convert (123_145_299);
       --            ^ Invalid, which convert
       --              should we call?

       S2 : String := Convert (SSID'(123_145_299));
       --                     ^ We specify that the
       --                       type of the expression
       --                       is SSID.

       --  We could also have declared a temporary

       I : SSID := 123_145_299;

       S3 : String := Convert (I);
    begin
       Put_Line (S);
    end Main;

–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ —Ü–µ–ª—å—é –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–µ
–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫—Ä—É–≥–ª—ã—Ö —Å–∫–æ–±–∫–∞—Ö –∏–ª–∏ –∞–≥—Ä–µ–≥–∞—Ç:

.. code-block:: ada

    package Qual_Expr is
       type Point is record
          A, B : Integer;
       end record;

       P : Point := Point'(12, 15);

       A : Integer := Integer'(12);
    end Qual_Expr;

–≠—Ç–æ –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è —É–¥–æ–±–Ω—ã–º (–∞
–∏–Ω–æ–≥–¥–∞ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º) —Å–ø–æ—Å–æ–±–æ–º –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ —Å–¥–µ–ª–∞—Ç—å —Ç–∏–ø –≤—ã—Ä–∞–∂–µ–Ω–∏—è
—è–≤–Ω—ã–º, –∫–æ–Ω–µ—á–Ω–æ, –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –Ω–æ —Ç–∞–∫–∂–µ –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤.

.. attention::
    –•–æ—Ç—è –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –∏ –æ—â—É—â–∞—é—Ç—Å—è –ø–æ—Ö–æ–∂–∏–º–∏, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –∏
    –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è *–Ω–µ* —è–≤–ª—è—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏.

    –ö–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—á–Ω—ã–π —Ç–∏–ø, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç
    –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–æ —Ü–µ–ª–µ–≤–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞
    –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ü–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É –≤–æ –≤—Ä–µ–º—è
    –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ —Ü–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–æ —Ç–∞–∫–∏–º
    –æ–±—Ä–∞–∑–æ–º.

    –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ
    –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–≥–æ –ø–æ–¥—Ç–∏–ø–∞ –≤ –¥—Ä—É–≥–æ–π, —Å
    –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–º –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

    .. code-block:: ada

        X : Integer := Natural'(1);

–¢–∏–ø—ã Access (—É–∫–∞–∑–∞—Ç–µ–ª–∏)
-----------------------

–£–∫–∞–∑–∞—Ç–µ–ª–∏ ‚Äë –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—Å—Ç—É–ø–∞–µ—Ç –≤
–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ —Å –æ—Å–Ω–æ–≤–æ–ø–æ–ª–∞–≥–∞—é—â–µ–π —Ñ–∏–ª–æ—Å–æ—Ñ–∏–µ–π –ê–¥—ã.

–ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞, –∫–æ—Ç–æ—Ä—ã–º–∏ Ada –ø–æ–º–æ–≥–∞–µ—Ç –æ–≥—Ä–∞–¥–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ –æ—Ç
–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π:

1. –û–¥–∏–Ω –∏–∑ –ø–æ–¥—Ö–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –º—ã —É–∂–µ –≤–∏–¥–µ–ª–∏, –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–∏
   –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, —á—Ç–æ–±—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É –Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   —É–∫–∞–∑–∞—Ç–µ–ª–∏. –†–µ–∂–∏–º—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –º–∞—Å—Å–∏–≤—ã –∏ —Ç–∏–ø—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ ‚Äë —ç—Ç–æ
   –≤—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞–º–µ–Ω–∏—Ç—å —Ç–∏–ø–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
   —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ C.

2. –í–æ-–≤—Ç–æ—Ä—ã—Ö, Ada —Å–¥–µ–ª–∞–ª–∞ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∏
   –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏, –Ω–æ –¥–æ–ø—É—Å–∫–∞–µ—Ç ¬´—Å–ø–∞—Å–∞—Ç–µ–ª—å–Ω—ã–µ –ª—é–∫–∏¬ª, –∫–æ–≥–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç
   —è–≤–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏—Ö –∏, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ, –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Ç–∞–∫–∏–µ
   —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.

–í–æ—Ç –∫–∞–∫ –≤ Ada –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π —Ç–∏–ø —É–∫–∞–∑–∞—Ç–µ–ª—è –∏–ª–∏ —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞:

.. code-block:: ada

    package Dates is
       type Months is
         (January, February, March, April,
          May, June, July, August, September,
          October, November, December);

       type Date is record
          Day   : Integer range 1 .. 31;
          Month : Months;
          Year  : Integer;
       end record;
    end Dates;

    with Dates; use Dates;

    package Access_Types is
        --  Declare an access type
        type Date_Acc is access Date;
        --                      ^ "Designated type"
        --                      ^ Date_Acc values point
        --                        to Date objects

        D : Date_Acc := null;
        --              ^ Literal for
        --                "access to nothing"
        --  ^ Access to date
    end Access_Types;

–ù–∞ —ç—Ç–æ–º —Ä–∏—Å—É–Ω–∫–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫:

-  –û–±—ä—è–≤–∏—Ç—å —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞, –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ (¬´–æ–±–æ–∑–Ω–∞—á–∏—Ç—å¬ª)
   –æ–±—ä–µ–∫—Ç—ã –∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
-  –û–±—ä—è–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞) –∏–∑ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –¥–æ—Å—Ç—É–ø–∞
-  –ü—Ä–∏—Å–≤–æ–π—Ç–µ –µ–º—É –∑–Ω–∞—á–µ–Ω–∏–µ :ada:`null`

–í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ç—Ä–æ–≥–æ–π —Ñ–∏–ª–æ—Å–æ—Ñ–∏–µ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ Ada, –µ—Å–ª–∏ –≤—ã –æ–±—ä—è–≤–∏—Ç–µ
–≤—Ç–æ—Ä–æ–π —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞, –æ–±–æ–∑–Ω–∞—á–µ–Ω–Ω—ã–π –∫–∞–∫ Date, –¥–≤–∞ —Ç–∏–ø–∞ –¥–æ—Å—Ç—É–ø–∞ –±—É–¥—É—Ç
–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –∏ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
—Ç–∏–ø–∞ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–≥–æ –≤ –¥—Ä—É–≥–æ–π:

.. code-block:: ada
    :class: ada-expect-compile-error

    with Dates; use Dates;

    package Access_Types is
        --  Declare an access type
        type Date_Acc   is access Date;
        type Date_Acc_2 is access Date;

        D  : Date_Acc   := null;
        D2 : Date_Acc_2 := D;
        --                 ^ Invalid! Different types

        D3 : Date_Acc_2 := Date_Acc_2 (D);
        --                 ^ Valid with type conversion
    end Access_Types;

.. admonition:: –ù–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö

    –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ —Ç–∏–ø—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ, –∞ –Ω–µ
    –Ω–æ–º–∏–Ω–∞–ª—å–Ω–æ —Ç–∏–ø–∏–∑–∏—Ä—É—é—Ç—Å—è, –∫–∞–∫ –≤ Ada, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–≤–∞ —Ç–∏–ø–∞
    —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –±—É–¥—É—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –æ–Ω–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ
    —Ü–µ–ª–µ–≤–æ–π —Ç–∏–ø –∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

    –ù–µ —Ç–∞–∫ –≤ Ada, –∫ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –ø—Ä–∏–≤—ã–∫–Ω—É—Ç—å. –ö–∞–∑–∞–ª–æ—Å—å –±—ã,
    –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–º–µ—Ç—å
    –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø –∫ —Ç–∏–ø—É, –≥–¥–µ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω? –û–±—ã—á–Ω–æ
    –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —à–∞–±–ª–æ–Ω –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞
    –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É, –∫–æ—Ç–æ—Ä—ã–º –≤—ã ¬´–≤–ª–∞–¥–µ–µ—Ç–µ¬ª, –≤—ã –æ–±—ä—è–≤–∏—Ç–µ –µ–≥–æ –≤–º–µ—Å—Ç–µ —Å
    —Ç–∏–ø–æ–º:

    .. code-block:: ada

        package Access_Types is
           type Point is record
              X, Y : Natural;
           end record;

           type Point_Access is access Point;
        end Access_Types;

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–ø–æ —Ç–∏–ø—É) ‚Äë Allocation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –æ–±—ä—è–≤–∏–ª–∏ —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞, –Ω–∞–º –Ω—É–∂–µ–Ω —Å–ø–æ—Å–æ–± –ø—Ä–∏—Å–≤–æ–∏—Ç—å
–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ! –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∑–Ω–∞—á–∏—Ç—å
–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –¥–æ—Å—Ç—É–ø–∞ —Å –ø–æ–º–æ—â—å—é –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ :ada:`new` –≤ Ada.

.. code-block:: ada

    with Dates; use Dates;

    package Access_Types is
        type Date_Acc is access Date;

        D : Date_Acc := new Date;
        --              ^ Allocate a new Date record
    end Access_Types;

–ï—Å–ª–∏ —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–∑–Ω–∞—á–∏—Ç—å, —Ç—Ä–µ–±—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –∏—Ö –º–æ–∂–Ω–æ
–ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ —É–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ–¥—Ç–∏–ø–∞, –∫–∞–∫ –∏ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

.. code-block:: ada

    with Dates; use Dates;

    package Access_Types is
       type String_Acc is access String;
       --                        ^
       --  Access to unconstrained array type
       Msg : String_Acc;
       --    ^ Default value is null

       Buffer : String_Acc :=
         new String (1 .. 10);
       --            ^ Constraint required
    end Access_Types;

–û–¥–Ω–∞–∫–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—É—Ç–µ–º —É–∫–∞–∑–∞–Ω–∏—è —Ç–∏–ø–∞ –Ω–µ
—è–≤–ª—è–µ—Ç—Å—è –∏–¥–µ–∞–ª—å–Ω—ã–º, –ø–æ—ç—Ç–æ–º—É Ada —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
–≤–º–µ—Å—Ç–µ —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:

.. code-block:: ada

    with Dates; use Dates;

    package Access_Types is
       type Date_Acc is access Date;
       type String_Acc is access String;

       D   : Date_Acc   := new Date'(30, November, 2011);
       Msg : String_Acc := new String'("Hello");
    end Access_Types;

–†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ
~~~~~~~~~~~~~

–í–∞–∂–Ω–∞—è –ø–æ—Å–ª–µ–¥–Ω—è—è —á–∞—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–∏–ø–∞ access Ada –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤
—Ç–æ–º, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç—É, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑–∞–Ω–æ, —Ç–æ
–µ—Å—Ç—å –∫–∞–∫ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å. –î–ª—è —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å :ada:`.all` –≤ Ada, –Ω–æ —á–∞—Å—Ç–æ –≤ —ç—Ç–æ–º –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äë –≤–æ
–º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –±—É–¥–µ—Ç –Ω–µ—è–≤–Ω–æ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–æ –¥–ª—è –≤–∞—Å:

.. code-block:: ada

    with Dates; use Dates;

    package Access_Types is
       type Date_Acc is access Date;

       D     : Date_Acc := new Date'(30, November, 2011);

       Today : Date := D.all;
       --              ^ Access value dereference
       J     : Integer := D.Day;
       --                 ^ Implicit dereference for
       --                   record and array components
       --                   Equivalent to D.all.day
    end Access_Types;

–î—Ä—É–≥–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
~~~~~~~~~~~~~~~~~~

–ö–∞–∫ –≤—ã, –≤–æ–∑–º–æ–∂–Ω–æ, –∑–Ω–∞–µ—Ç–µ, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ C –∏–ª–∏ C++,
–Ω–∞–º –≤—Å–µ –µ—â–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –æ—Å–Ω–æ–≤–æ–ø–æ–ª–∞–≥–∞—é—â–∏–º–∏
–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫:

-  –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è (–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –∏–ª–∏ —É–º–µ–Ω—å—à–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å,
   —á—Ç–æ–±—ã —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ–±—ä–µ–∫—Ç)

-  –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é ‚Äë —Ç–æ, —á—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º (:c:`free`) –∏–ª–∏
   —É–¥–∞–ª–µ–Ω–∏–µ–º (:c:`delete`) –≤ C. –≠—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è. –ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è
   –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ–π Ada, –≤–∞–º –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –ø–∞–º—è—Ç—å
   –≤—Ä—É—á–Ω—É—é.

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ Ada, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ API.

.. attention::
    –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ Ada –≥–ª–∞—Å–∏—Ç, —á—Ç–æ –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–±–µ–≥–∞—Ç—å
    —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é, –∏ –≤–∞–º —Å–ª–µ–¥—É–µ—Ç —ç—Ç–æ –¥–µ–ª–∞—Ç—å.

    –°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ –∏–∑–±–µ–∂–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é,
    –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–∂–∏–º—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤).
    –Ø–∑—ã–∫ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å
    —É–∫–∞–∑–∞—Ç–µ–ª–µ–π:

    1. –û–¥–Ω–∏–º –∏–∑ –Ω–∏—Ö —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ :ref:`–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ <Containers>`.
       –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–º–æ–≥–∞—é—Ç
       –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑–±–µ–≥–∞—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–µ–π, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–∞–º—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
       —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

    2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å –≤ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, —è–≤–ª—è–µ—Ç—Å—è
       `Indefinite holder <http://www.ada-auth.org/standards/12rat/html/Rat12-8-5.html>`_.
       –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä
       String.

    3. GNATCOLL –∏–º–µ–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π, –Ω–∞–∑—ã–≤–∞–µ–º—É—é
       `Refcount <https://github.com/AdaCore/gnatcoll-core/blob/master/src/gnatcoll-refcount.ads>`_,
       –ø–∞–º—è—Ç—å —ç—Ç–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, —Ç–∞–∫ —á—Ç–æ, –∫–æ–≥–¥–∞ —É
       –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –±–æ–ª—å—à–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ –Ω–µ–≥–æ, –ø–∞–º—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
       –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è.

–í–∑–∞–∏–º–Ω–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ —Ç–∏–ø—ã
------------------------

–°–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–µ–π –∏–¥–∏–æ–º–æ–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö; –≤ Ada —ç—Ç–æ
–±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –Ω–∞–∏–±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ –¥–≤–∞ —Ç–∏–ø–∞, —Ç–∏–ø –∑–∞–ø–∏—Å–∏ –∏ —Ç–∏–ø
–¥–æ—Å—Ç—É–ø–∞, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –≤–∑–∞–∏–º–Ω–æ –∑–∞–≤–∏—Å–∏–º—ã–º–∏. –î–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤–∑–∞–∏–º–Ω–æ
–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ø–æ–ª–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞:

.. code-block:: ada

    package Simple_List is
       type Node;
       --  This is an incomplete type declaration,
       --  which is completed in the same
       --  declarative region.

       type Node_Acc is access Node;

       type Node is record
          Content    : Natural;
          Prev, Next : Node_Acc;
       end record;
    end Simple_List;

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∑–∞–ø–∏—Å—è—Ö
-------------------

–¢–∏–ø—ã –∑–∞–ø–∏—Å–µ–π —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ–º—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

–†–∞–Ω–µ–µ –º—ã –≤–∏–¥–µ–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Ç–∏–ø–æ–≤ –∑–∞–ø–∏—Å–µ–π. –î–∞–≤–∞–π—Ç–µ
—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å–≤–æ–π—Å—Ç–≤ —ç—Ç–æ–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π
—è–∑—ã–∫–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

–°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è —Ç–∏–ø–∞ –∑–∞–ø–∏—Å–∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–≤–µ—Å—Ç–µ–Ω –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –≠—Ç–æ –ø—Ä–æ–∏–ª–ª—é—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤
–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ:

.. code-block:: ada
    :class: ada-syntax-only

    package Runtime_Length is
       function Compute_Max_Len return Natural;
    end Runtime_Length;

    with Runtime_Length; use Runtime_Length;

    package Var_Size_Record is
        Max_Len : constant Natural
          := Compute_Max_Len;
        --   ^ Not known at compile time

        type Items_Array is array (Positive range <>)
          of Integer;

        type Growable_Stack is record
           Items : Items_Array (1 .. Max_Len);
           Len   : Natural;
        end record;
        --  Growable_Stack is a definite type, but
        --  size is not known at compile time.

        G : Growable_Stack;
    end Var_Size_Record;

–°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ä–∞–∑–º–µ—Ä –≤–∞—à–∏—Ö –∑–∞–ø–∏—Å–µ–π –≤–æ –≤—Ä–µ–º—è
–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–æ —É—á—Ç–∏—Ç–µ, —á—Ç–æ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –±—É–¥—É—Ç –∏–º–µ—Ç—å
–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä.

–ó–∞–ø–∏—Å–∏ —Å –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–º
~~~~~~~~~~~~~~~~~~~~~~~

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è Items –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤–æ
–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–æ –∫–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä :ada:`Growable_Stack` –±—É–¥–µ—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–≥–æ –∂–µ —Ä–∞–∑–º–µ—Ä–∞.
–ù–æ, –≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –Ω–µ —Ç–æ, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å. –ú—ã –≤–∏–¥–µ–ª–∏, —á—Ç–æ –º–∞—Å—Å–∏–≤—ã
–≤ —Ü–µ–ª–æ–º –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —Ç–∞–∫—É—é –≥–∏–±–∫–æ—Å—Ç—å: –¥–ª—è –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –º–∞—Å—Å–∏–≤–æ–≤
—Ä–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã.

–ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∑–∞–ø–∏—Å–µ–π,
–∏—Å–ø–æ–ª—å–∑—É—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –≤–∏–¥ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–º:

.. code-block:: ada

    package Var_Size_Record_2 is
        type Items_Array is array (Positive range <>)
          of Integer;

        type Growable_Stack (Max_Len : Natural) is
        record
        --                   ^ Discriminant. Cannot be
        --                     modified once initialized.
           Items : Items_Array (1 .. Max_Len);
           Len   : Natural := 0;
        end record;
        --  Growable_Stack is an indefinite type
        --  (like an array)
    end Var_Size_Record_2;

–î–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç—ã –≤ –∏—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Ñ–æ—Ä–º–∞—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω—ã: –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å –∏—Ö
–ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏
–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω–∏ –¥–µ–ª–∞—é—Ç —Ç–∏–ø –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º: –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ,
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞, —Ç–∏–ø —Å
–¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–º –±—É–¥–µ—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º, –µ—Å–ª–∏ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω —Å
–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π:

.. code-block:: ada
    :class: ada-expect-compile-error

    package Test_Discriminants is
       type Point (X, Y : Natural) is record
          null;
       end record;

       P : Point;
       --  ERROR: Point is indefinite, so you
       --  need to specify the discriminants
       --  or give a default value

       P2 : Point (1, 2);
       P3 : Point := (1, 2);
       --  Those two declarations are equivalent.

    end Test_Discriminants;

–≠—Ç–æ —Ç–∞–∫–∂–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ
–æ–±—ä—è–≤–∏—Ç—å –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π Point, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–∞–∑–º–µ—Ä Point –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω.

–ö–∞–∫ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ, –º—ã –º–æ–≥–ª–∏ –±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å
–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ª–µ–≥–∞–ª—å–Ω–æ
–æ–±—ä—è–≤–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è :ada:`Point` –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–≤. –í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ
–ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

.. code-block:: ada

    package Test_Discriminants is
       type Point (X, Y : Natural := 0) is record
          null;
       end record;

       P : Point;
       --  We can now simply declare a "Point"
       --  without further ado. In this case,
       --  we're using the default values (0)
       --  for X and Y.

       P2 : Point (1, 2);
       P3 : Point := (1, 2);
       --  We can still specify discriminants.

    end Test_Discriminants;

–¢–∞–∫–∂–µ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ, —Ö–æ—Ç—è —Ç–∏–ø :ada:`Point` —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç—ã –ø–æ
—É–º–æ–ª—á–∞–Ω–∏—é, –º—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–∂–µ–º —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç—ã, –∫–∞–∫ –º—ã —ç—Ç–æ
–¥–µ–ª–∞–µ–º –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö :ada:`P2` –∏ :ada:`P3`.

–í–æ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç—ã –≤–µ–¥—É—Ç —Å–µ–±—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—è:
–≤—ã –¥–æ–ª–∂–Ω—ã —É–∫–∞–∑–∞—Ç—å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∞–≥—Ä–µ–≥–∞—Ç–∞—Ö, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, –∏ –≤—ã
–º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º —á–µ—Ä–µ–∑ —Ç–æ—á–µ—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é.

.. code-block:: ada

    with Var_Size_Record_2; use Var_Size_Record_2;
    with Ada.Text_IO; use Ada.Text_IO;

    procedure Main is
       procedure Print_Stack (G : Growable_Stack) is
       begin
          Put ("<Stack, items: [");
          for I in G.Items'Range loop
             exit when I > G.Len;
             Put (" " & Integer'Image (G.Items (I)));
          end loop;
          Put_Line ("]>");
       end Print_Stack;

       S : Growable_Stack :=
         (Max_Len => 128,
          Items   => (1, 2, 3, 4, others => <>),
          Len     => 4);
    begin
       Print_Stack (S);
    end Main;

.. note::
    –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ, –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–º–µ—Ä
    –º–∞—Å—Å–∏–≤–∞, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä,
    —É–∫–∞–∑–∞–Ω–∏–µ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–≤ –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏.

–ó–∞–ø–∏—Å–∏ c –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
~~~~~~~~~~~~~~~~~~~

–ü—Ä–∏–º–µ—Ä—ã –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–≤ –¥–æ —Å–∏—Ö –ø–æ—Ä –ø—Ä–æ–∏–ª–ª—é—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
—Ä–∞–∑–ª–∏—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ä–∞–∑–º–µ—Ä –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–≤–∏—Å–∏—Ç –æ—Ç
–¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–∞.

–û–¥–Ω–∞–∫–æ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç—ã —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ç–æ–≥–æ, —á—Ç–æ –∏–Ω–æ–≥–¥–∞ –Ω–∞–∑—ã–≤–∞—é—Ç ¬´–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º–∏
–∑–∞–ø–∏—Å—è–º–∏¬ª: –∑–∞–ø–∏—Å–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –ø–æ–ª–µ–π.

.. code-block:: ada

    package Variant_Record is
       --  Forward declaration of Expr
       type Expr;

       --  Access to a Expr
       type Expr_Access is access Expr;

       type Expr_Kind_Type is (Bin_Op_Plus,
                               Bin_Op_Minus,
                               Num);
       --  A regular enumeration type

       type Expr (Kind : Expr_Kind_Type) is record
          --      ^ The discriminant is an
          --        enumeration value
          case Kind is
             when Bin_Op_Plus | Bin_Op_Minus =>
                Left, Right : Expr_Access;
             when Num =>
                Val : Integer;
          end case;
          --  Variant part. Only one, at the end of
          --  the record definition, but can be
          --  nested
       end record;
    end Variant_Record;

–ü–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –≤–µ—Ç–≤–∏ :ada:`when`, –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞
–∑–Ω–∞—á–µ–Ω–∏–µ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–∞ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–µ—Ç–≤—å—é. –í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ
–≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º :ada:`Left` –∏ :ada:`Right`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏
:ada:`Kind` —Ä–∞–≤–µ–Ω :ada:`Bin_Op_Plus` –∏–ª–∏ :ada:`Bin_Op_Minus`.

–ï—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—é, –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–º—É –¥–ª—è –≤–∞—à–µ–π
–∑–∞–ø–∏—Å–∏, –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –æ—à–∏–±–∫–∞ :ada:`Constraint_Error`.

.. code-block:: ada
    :class: ada-run-expect-failure

    with Variant_Record; use Variant_Record;

    procedure Main is
       E : Expr := (Num, 12);
    begin
       E.Left := new Expr'(Num, 15);
       --  Will compile but fail at runtime
    end Main;

–í–æ—Ç –∫–∞–∫ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π:

.. code-block:: ada

    with Variant_Record; use Variant_Record;
    with Ada.Text_IO; use Ada.Text_IO;

    procedure Main is
       function Eval_Expr (E : Expr) return Integer is
         (case E.Kind is
          when Bin_Op_Plus  => Eval_Expr (E.Left.all)
                               + Eval_Expr (E.Right.all),
          when Bin_Op_Minus => Eval_Expr (E.Left.all)
                               - Eval_Expr (E.Right.all),
          when Num => E.Val);

       E : Expr := (Bin_Op_Plus,
                    new Expr'(Bin_Op_Minus,
                              new Expr'(Num, 12),
                              new Expr'(Num, 15)),
                    new Expr'(Num, 3));
    begin
       Put_Line (Integer'Image (Eval_Expr (E)));
    end Main;

.. admonition:: –ù–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö

    –ó–∞–ø–∏—Å–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Ada –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Ç–∏–ø—ã Sum –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–∞—Ö,
    —Ç–∞–∫–∏—Ö –∫–∞–∫ OCaml –∏–ª–∏ Haskell. –û—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ
    –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–æ–ª–µ–º –≤ Ada, —Ç–æ–≥–¥–∞ –∫–∞–∫ ¬´—Ç–µ–≥¬ª —Ç–∏–ø–∞ Sum
    —è–≤–ª—è–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤.

    –ï—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ —Ä–∞–∑–ª–∏—á–∏—è (–≤ –∑–∞–ø–∏—Å–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤ Ada –º–æ–∂–Ω–æ –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ
    –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–æ–≤). –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –æ–Ω–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç —Ç–æ—Ç –∂–µ –≤–∏–¥ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
    —Ç–∏–ø–∞, —á—Ç–æ –∏ —Ç–∏–ø—ã Sum –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.

    –ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ C/C + + –∑–∞–ø–∏—Å–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Ada –±–æ–ª–µ–µ –º–æ—â–Ω—ã
    –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —á—Ç–æ
    –¥–µ–ª–∞–µ—Ç –∏—Ö –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏.

–¢–∏–ø—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π
---------------------------

–î–µ—Å—è—Ç–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

–ú—ã —É–∂–µ –≤–∏–¥–µ–ª–∏, –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç–∏–ø—ã —Å –ø–ª–∞–≤–∞—é—â–µ–π –∑–∞–ø—è—Ç–æ–π. –û–¥–Ω–∞–∫–æ –≤
–Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –ø–ª–∞–≤–∞—é—â–∞—è —Ç–æ—á–∫–∞ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É,
–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—à–∏–±–∫–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –∏–∑ –¥–≤–æ–∏—á–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å
–Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–π –∏–ª–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å
–ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π. Ada –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–∏–ø–æ–≤, –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å
—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø—è—Ç–æ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É —É–∫–∞–∑–∞—Ç—å
—Ç—Ä–µ–±—É–µ–º—É—é –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä), –∞ —Ç–∞–∫–∂–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç
–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (—Å—Ç–µ–ø–µ–Ω—å –¥–µ—Å—è—Ç–∏) –∏, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –¥–∏–∞–ø–∞–∑–æ–Ω.
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏, –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –Ω–µ—è–≤–Ω–æ
–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç–µ–ø–µ–Ω—å—é 10. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è
—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ—Å—Ç–æ–≥–æ –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø—è—Ç–æ–π:

.. code-block:: ada

    type <type-name> is delta <delta-value> digits <digits-value>;

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ :ada:`delta` –∏ :ada:`digits` –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º
–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞.

–ù–µ—Å–∫–æ–ª—å–∫–æ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Å—è—Ç–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏:

+------------------------+----------------------------------------------+
| –ò–º—è –∞—Ç—Ä–∏–±—É—Ç–∞           | –ó–Ω–∞—á–µ–Ω–∏–µ                                     |
+========================+==============================================+
| First                  | –ü–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞                         |
+------------------------+----------------------------------------------+
| Last                   | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞                      |
+------------------------+----------------------------------------------+
| Delta                  | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã —Ç–∏–ø–∞                         |
+------------------------+----------------------------------------------+

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ –º—ã –æ–±—ä—è–≤–ª—è–µ–º –¥–≤–∞ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö: :ada:`T3_D3` –∏ :ada:`T6_D3`. –î–ª—è
–æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ: 0.001.

.. code-block:: ada

    with Ada.Text_IO; use Ada.Text_IO;

    procedure Decimal_Fixed_Point_Types is
       type T3_D3 is delta 10.0 ** (-3) digits 3;
       type T6_D3 is delta 10.0 ** (-3) digits 6;
    begin
       Put_Line ("The delta    value of T3_D3 is "
                 & T3_D3'Image (T3_D3'Delta));
       Put_Line ("The minimum  value of T3_D3 is "
                 & T3_D3'Image (T3_D3'First));
       Put_Line ("The maximum  value of T3_D3 is "
                 & T3_D3'Image (T3_D3'Last));
       New_Line;

       Put_Line ("The delta    value of T6_D3 is "
                 & T6_D3'Image (T6_D3'Delta));
       Put_Line ("The minimum  value of T6_D3 is "
                 & T6_D3'Image (T6_D3'First));
       Put_Line ("The maximum  value of T6_D3 is "
                 & T6_D3'Image (T6_D3'Last));
    end Decimal_Fixed_Point_Types;

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤
–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ: 0.001. –û–¥–Ω–∞–∫–æ, –ø–æ—Å–∫–æ–ª—å–∫—É :ada:`T3_D3` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 3
—Ü–∏—Ñ—Ä–∞–º–∏, –µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç -0,999 –¥–æ 0,999. –î–ª—è :ada:`T6_D3` –º—ã
–æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ —Ç–æ—á–Ω–æ—Å—Ç—å 6 —Ü–∏—Ñ—Ä, –ø–æ—ç—Ç–æ–º—É –¥–∏–∞–ø–∞–∑–æ–Ω –æ—Ç -999,999 –¥–æ 999,999.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Ç–∏–ø–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
(:ada:`range`),
–ø–æ—Å–∫–æ–ª—å–∫—É —É –Ω–∞—Å –µ—Å—Ç—å –Ω–µ—è–≤–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω, —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –±—É–¥–µ—Ç
–ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–µ –≤—ã—Ö–æ–¥—è—â–∏–µ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã
–¥–∏–∞–ø–∞–∑–æ–Ω–∞. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–º–Ω–æ–∂–µ–Ω–∏—è –∏–ª–∏ –¥–µ–ª–µ–Ω–∏—è –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö
—Ç–∏–ø–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø—è—Ç–æ–π –º–µ–Ω—å—à–µ, —á–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã, —Ç—Ä–µ–±—É–µ–º–æ–µ
–¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω –Ω—É–ª—é. –ù–∞–ø—Ä–∏–º–µ—Ä:

.. code-block:: ada

    with Ada.Text_IO; use Ada.Text_IO;

    procedure Decimal_Fixed_Point_Smaller is
       type T3_D3 is delta 10.0 ** (-3) digits 3;
       type T6_D6 is delta 10.0 ** (-6) digits 6;
       A : T3_D3 := T3_D3'Delta;
       B : T3_D3 := 0.5;
       C : T6_D6;
    begin
       Put_Line ("The value of A     is "
                 & T3_D3'Image (A));

       A := A * B;
       Put_Line ("The value of A * B is "
                 & T3_D3'Image (A));

       A := T3_D3'Delta;
       C := A * B;
       Put_Line ("The value of A * B is "
                 & T6_D6'Image (C));
    end Decimal_Fixed_Point_Smaller;

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ 0.001 * 0.5 –±—É–¥–µ—Ç 0.0005. –í–≤–∏–¥—É
—Ç–æ–≥–æ, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ —Ç–∏–ø–æ–º :ada:`T3_D3` –ø–æ—Å–∫–æ–ª—å–∫—É
–µ–≥–æ –¥–µ–ª—å—Ç–∞ —Ä–∞–≤–Ω–∞ 0.001, —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è :ada:`A`
–±—É–¥–µ—Ç —Ä–∞–≤–Ω–æ –Ω—É–ª—é. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ —Ç–∏–ø –∏–º–µ–µ—Ç –±–æ–ª—å—à—É—é —Ç–æ—á–Ω–æ—Å—Ç—å, —Ç–æ
–∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ—á–Ω–æ, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ
C –±—É–¥–µ—Ç —Ä–∞–≤–Ω–æ 0.000500.

–¢–∏–ø—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫
~~~~~~~~~~~~~~~~~~~~~~~~

–û–±—ã—á–Ω—ã–µ —Ç–∏–ø—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –ø–æ—Ö–æ–∂–∏ –Ω–∞ –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å
—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –≤ —Ç–æ–º, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è, –ø–æ —Å—É—Ç–∏, —è–≤–ª—è—é—Ç—Å—è
–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –Ω–∏–º–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤
–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è: –¥–ª—è –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π
—Ç–æ—á–∫–æ–π –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, —è–≤–Ω–æ –∑–∞–¥–∞–Ω–Ω–æ–µ –¥–µ–ª—å—Ç–æ–π (:ada:`delta`) —Ç–∏–ø–∞,
–≤—Å–µ–≥–¥–∞ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–µ–ø–µ–Ω—å—é –¥–µ—Å—è—Ç–∏. 

–ù–∞–ø—Ä–æ—Ç–∏–≤, –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º :ada:`small` –¥–ª—è —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π
:ada:`delta` –∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–µ–ø–µ–Ω—å—é –¥–≤–æ–π–∫–∏. –ü–æ—ç—Ç–æ–º—É –æ–±—ã—á–Ω—ã–µ —Ç–∏–ø—ã
—Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –∏–Ω–æ–≥–¥–∞ –Ω–∞–∑—ã–≤–∞—é—Ç –¥–≤–æ–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å
—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π.

.. note::
    –û–±—ã—á–Ω—ã–µ —Ç–∏–ø—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –±–æ–ª–µ–µ
    –±–ª–∏–∑–∫–∏–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é –Ω–∞ –º–∞—à–∏–Ω–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è
    –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –Ω–µ –ø–æ–ª—É—á–∏–ª–∞
    —à–∏—Ä–æ–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è (–∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ –≤ –¥–µ—Å—è—Ç—å —Ä–∞–∑), –≤ —Ç–æ –≤—Ä–µ–º—è
    –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ç–∏–ø—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
    –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ —Å–¥–≤–∏–≥–∞.

–°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ã—á–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π:

.. code-block:: ada

    type <type-name> is
      delta <delta-value>
      range <lower-bound> .. <upper-bound>;

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–±–µ—Ä–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–ª–∏ :ada:`small`, —Ç–æ
–µ—Å—Ç—å —Å—Ç–µ–ø–µ–Ω—å 2, –Ω–µ –ø—Ä–µ–≤—ã—à–∞—é—â—É—é <delta-value>.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –º–µ–∂–¥—É -1.0 –∏ 1.0
—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

.. code-block:: ada

    with Ada.Text_IO; use Ada.Text_IO;

    procedure Normalized_Fixed_Point_Type is
       D : constant := 2.0 ** (-31);
       type TQ31 is delta D range -1.0 .. 1.0 - D;
    begin
       Put_Line ("TQ31 requires "
                 & Integer'Image (TQ31'Size)
                 & " bits");
       Put_Line ("The delta    value of TQ31 is "
                 & TQ31'Image (TQ31'Delta));
       Put_Line ("The minimum  value of TQ31 is "
                 & TQ31'Image (TQ31'First));
       Put_Line ("The maximum  value of TQ31 is "
                 & TQ31'Image (TQ31'Last));
    end Normalized_Fixed_Point_Type;

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º 32-—Ä–∞–∑—Ä—è–¥–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π
—Ç–æ—á–∫–æ–π –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã
–∑–∞–º–µ—á–∞–µ–º, —á—Ç–æ –≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –±–ª–∏–∑–∫–∞ –∫ –µ–¥–∏–Ω–∏—Ü–µ, –Ω–æ –Ω–µ —Ç–æ—á–Ω–∞—è. –≠—Ç–æ
—Ç–∏–ø–∏—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π - –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é
–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —ç—Ç–æ–º –æ–±—Å—É–∂–¥–µ–Ω–∏–∏
`Q —Ñ–æ—Ä–º–∞—Ç–∞ <https://en.wikipedia.org/wiki/Q_(number_format)>`_.
–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ —Å —Ç–æ—á–Ω—ã–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ç–∏–ø–∞:

.. code-block:: ada

    procedure Normalized_Adapted_Fixed_Point_Type is
       type TQ31 is
         delta 2.0 ** (-31)
         range -1.0 .. 1.0 - 2.0 ** (-31);
    begin
       null;
    end Normalized_Adapted_Fixed_Point_Type;

–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä:

.. code-block:: ada

    with Ada.Text_IO;  use Ada.Text_IO;
    with Ada.Numerics; use Ada.Numerics;

    procedure Custom_Fixed_Point_Range is
       type T_Inv_Trig is
         delta 2.0 ** (-15) * Pi
         range -Pi / 2.0 .. Pi / 2.0;
    begin
       Put_Line ("T_Inv_Trig requires "
                 & Integer'Image (T_Inv_Trig'Size)
                 & " bits");
       Put_Line ("The delta    value of T_Inv_Trig is "
                 & T_Inv_Trig'Image (T_Inv_Trig'Delta));
       Put_Line ("The minimum  value of T_Inv_Trig is "
                 & T_Inv_Trig'Image (T_Inv_Trig'First));
       Put_Line ("The maximum  value of T_Inv_Trig is "
                 & T_Inv_Trig'Image (T_Inv_Trig'Last));
    end Custom_Fixed_Point_Range;

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º 16-—Ä–∞–∑—Ä—è–¥–Ω—ã–π —Ç–∏–ø —Å –∏–º–µ–Ω–µ–º :ada:`T_Inv_Trig`, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç
–¥–∏–∞–ø–∞–∑–æ–Ω –æ—Ç ‚àíùúã/2 –¥–æ ùúã/2.

–î–ª—è —Ç–∏–ø–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
–ù–∞–ø—Ä–∏–º–µ—Ä:

.. code-block:: ada

    with Ada.Text_IO; use Ada.Text_IO;

    procedure Fixed_Point_Op is
       type TQ31 is
         delta 2.0 ** (-31)
         range -1.0 .. 1.0 - 2.0 ** (-31);

       A, B, R : TQ31;
    begin
       A := 0.25;
       B := 0.50;
       R := A + B;
       Put_Line ("R is " & TQ31'Image (R));
    end Fixed_Point_Op;

–ö–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å, :ada:`R` —Å–æ–¥–µ—Ä–∂–∏—Ç 0,75 –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è :ada:`A` –∏ :ada:`B`.

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —è–∑—ã–∫ —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ –æ–±—â–∏–º, —á–µ–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—é—Ç —ç—Ç–∏
–ø—Ä–∏–º–µ—Ä—ã, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –æ–±—ã—á–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–º–Ω–æ–∂–∞—Ç—å –∏–ª–∏ –¥–µ–ª–∏—Ç—å
–∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π –∏ –ø–æ–ª—É—á–∞—Ç—å
—Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç—Ä–µ—Ç—å–µ–≥–æ —Ç–∏–ø–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π.
–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –¥–∞–Ω–Ω–æ–≥–æ –≤–≤–æ–¥–Ω–æ–≥–æ –∫—É—Ä—Å–∞.

–°–ª–µ–¥—É–µ—Ç —Ç–∞–∫–∂–µ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ, —Ö–æ—Ç—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ç–∞–∫–∂–µ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ —Ä–∞–º–∫–∏
–¥–∞–Ω–Ω–æ–≥–æ –∫—É—Ä—Å–∞, –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ :ada:`small` –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å
—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –Ω–µ–±–∞–Ω–∞–ª—å–Ω–æ–µ
–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:

.. code-block:: ada

    type Angle is
      delta 1.0/3600.0
      range 0.0 .. 360.0 - 1.0 / 3600.0;
    for Angle'Small use Angle'Delta;

–¢–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤
-------------

–ö–∞–∫ –æ—Ç–º–µ—á–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ, –∫–∞–∂–¥—ã–π —Ç–∏–ø –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º
—Å –∫–∞–∂–¥—ã–º –¥—Ä—É–≥–∏–º —Ç–∏–ø–æ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è. –û–¥–Ω–∞–∫–æ —Ä–∞–Ω–µ–µ –º—ã –Ω–µ —É–ø–æ–º–∏–Ω–∞–ª–∏, —á—Ç–æ
–ª–∏—Ç–µ—Ä–∞–ª—ã —Å–∏–º–≤–æ–ª–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è. –≠—Ç–æ
–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–∏–ø–∞–º —Å–∏–º–≤–æ–ª–æ–≤
—è–∑—ã–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ç–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤:

.. code-block:: ada
    :class: ada-expect-compile-error

    with Ada.Text_IO; use Ada.Text_IO;

    procedure Character_Example is
       type My_Char is ('a', 'b', 'c');
       --  Our custom character type, an
       --  enumeration type with 3 valid values.

       C : Character;
       --  ^ Built-in character type
       --    (it's an enumeration type)

       M : My_Char;
    begin
       C := '?';
       --   ^ Character literal
       --     (enumeration literal)

       M := 'a';

       C := 65;
       --   ^ Invalid: 65 is not a
       --     Character value

       C := Character'Val (65);
       --  Assign the character at
       --  position 65 in the
       --  enumeration (which is 'A')

       M := C;
       --   ^ Invalid: C is of type Character,
       --     and M is a My_Char

       M := 'd';
       --   ^ Invalid: 'd' is not a valid
       --     literal for type My_Char
    end Character_Example;


