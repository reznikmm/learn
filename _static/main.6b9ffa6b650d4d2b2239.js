!function(t){function e(e){for(var n,a,s=e[0],u=e[1],l=e[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);for(c&&c(e);f.length;)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,s=1;s<r.length;s++){var u=r[s];0!==o[u]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={0:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=u;i.push([4,1]),r()}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getElemsByTag=e.getElemsByClass=e.getElemById=void 0,e.getElemById=function(t){var e=document.getElementById(t);if(null==e)throw Error("Malformed DOM. Cannot find elem "+t);return e},e.getElemsByClass=function(t,e){var r=t.getElementsByClassName(e);return Array.from(r)},e.getElemsByTag=function(t,e){var r=t.getElementsByTagName(e);return Array.from(r)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLI_FILE=e.CONSOLE_OUTPUT_LABEL=e.MACHINE_BUSY_LABEL=e.MACHINE_NOT_RESPONDING_LABEL=e.EXIT_STATUS_LABEL=e.LAB_FAILED_LABEL=e.LAB_COMPLETE_LABEL=e.LAB_TEST_STATUS_LABEL=e.LAB_TEST_ACTUAL_LABEL=e.LAB_TEST_OUTPUT_LABEL=e.LAB_TEST_INPUT_LABEL=e.INTERNAL_ERROR_MESSAGE=e.CUSTOM_INPUT_TOOLTIP=e.CUSTOM_INPUT_LABEL=e.SETTINGS_THEME_EDITOR_LABEL=e.SETTINGS_TABBED_EDITOR_LABEL=e.DOWNLOAD_TOOLTIP=e.RESET_CONFIRM_MSG=e.RESET_TOOLTIP=e.TEST_CASE_LABEL=void 0,e.TEST_CASE_LABEL="Test Case",e.RESET_TOOLTIP="Reset editor to default state",e.RESET_CONFIRM_MSG="Your changes will be lost after reset. Are you sure you want to reset the editor?",e.DOWNLOAD_TOOLTIP="Download source files",e.SETTINGS_TABBED_EDITOR_LABEL="Enable tabbed editor view for this editor",e.SETTINGS_THEME_EDITOR_LABEL="Use the dark theme",e.CUSTOM_INPUT_LABEL="Test against custom input",e.CUSTOM_INPUT_TOOLTIP="Use the Run button to test your code against a custom input sequence",e.INTERNAL_ERROR_MESSAGE="Please report this issue on https://github.com/AdaCore/learn/issues",e.LAB_TEST_INPUT_LABEL="Input",e.LAB_TEST_OUTPUT_LABEL="Expected Output",e.LAB_TEST_ACTUAL_LABEL="Received Output",e.LAB_TEST_STATUS_LABEL="Status",e.LAB_COMPLETE_LABEL="Lab completed successfully.",e.LAB_FAILED_LABEL="Lab failed.",e.EXIT_STATUS_LABEL="exit status",e.MACHINE_NOT_RESPONDING_LABEL="The machine running the examples is not responding, please try again later.",e.MACHINE_BUSY_LABEL="The machine running the examples may not be available or is busy, please try again now or come back later.",e.CONSOLE_OUTPUT_LABEL="Console Output",e.CLI_FILE="cli.txt"},,function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(t,e){return n(this,void 0,void 0,(function(){var r;return o(this,(function(n){switch(n.label){case 0:return[4,fetch(e,{method:"POST",mode:"cors",cache:"no-cache",redirect:"follow",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})];case 1:if(!(r=n.sent()).ok)throw new Error("Status: "+r.status+" Msg: "+r.statusText);return[2,r]}}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchBlob=e.fetchJSON=void 0,r(14),e.fetchJSON=function(t,e){return n(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,i(t,e)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.fetchBlob=function(t,e){return n(this,void 0,void 0,(function(){var r,n,a,s,u;return o(this,(function(o){switch(o.label){case 0:return[4,i(t,e)];case 1:return[4,(r=o.sent()).blob()];case 2:return n=o.sent(),a=r.headers.get("content-disposition"),s=null==a?void 0:a.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/),u=3===(null==s?void 0:s.length)?s[1]:"Download",[2,{blob:n,filename:u}]}}))}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(5);var n=r(0),o=r(6),i=r(16);function a(){var t=n.getElemsByTag(document,"widget");o.widgetFactory(t);var e=n.getElemById("scrollToTopBtn");i.scrollTop(e)}"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)},function(t,e,r){"use strict";r.r(e)},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return a(e,t),e},u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},l=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.widgetFactory=e.LabWidget=void 0;var f=r(7),h=r(8),p=r(3),v=r(0),y=r(15),_=s(r(1)),b=function(){function t(t,e){var r,n,o,i,a,s,p,y,b,E,L=this;if(this.shadowFiles=[],this.viewMap=new Map,this.server=t.dataset.url,this.container=t,this.id=this.container.id,this.name=t.dataset.name,this.main=t.dataset.main,e)try{for(var m=c(e.entries()),g=m.next();!g.done;g=m.next()){var w=d(g.value,2),T=w[0],A=w[1];this.viewMap.set(T,A)}}catch(t){r={error:t}}finally{try{g&&!g.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}var S=this.getElem("editor");this.editor=new h.Editor(S);var O=v.getElemsByClass(this.container,"file");if(0==O.length)throw Error("Malformed widget: No files present.");try{for(var C=c(O),B=C.next();!B.done;B=C.next()){var x=(N=B.value).dataset.basename,M=N.textContent?N.textContent:"";this.editor.addSession(x,M)}}catch(t){o={error:t}}finally{try{B&&!B.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}var I=v.getElemsByClass(this.container,"shadow-file");try{for(var P=c(I),R=P.next();!R.done;R=P.next()){var N,k={basename:(N=R.value).dataset.basename,contents:N.textContent?N.textContent:""};this.shadowFiles.push(k)}}catch(t){a={error:t}}finally{try{R&&!R.done&&(s=P.return)&&s.call(P)}finally{if(a)throw a.error}}var U=this.getElem("tab"),j=v.getElemsByTag(U,"button"),G=function(t){var e=t.textContent?t.textContent:"",r={header:D.getElem("tab",e),editor:D.editor};t.addEventListener("click",(function(){var r,n;try{for(var o=(r=void 0,c(j)),i=o.next();!i.done;i=o.next()){i.value.classList.remove("active")}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.classList.add("active"),L.editor.setSession(e)})),D.viewMap.set(e,r)},D=this;try{for(var H=c(j),F=H.next();!F.done;F=H.next()){G(F.value)}}catch(t){p={error:t}}finally{try{F&&!F.done&&(y=H.return)&&y.call(H)}finally{if(p)throw p.error}}j[0].click();var J=this.getElem("button-group"),W=v.getElemsByTag(J,"button"),z=function(t){var e=t.dataset.mode;t.addEventListener("click",(function(){return u(L,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.buttonCB(e)];case 1:return t.sent(),[2]}}))}))}))};try{for(var Y=c(W),$=Y.next();!$.done;$=Y.next()){z($.value)}}catch(t){b={error:t}}finally{try{$&&!$.done&&(E=Y.return)&&E.call(Y)}finally{if(b)throw b.error}}var q=this.getElem("settings-bar","tab-setting");q.checked=!0,q.addEventListener("change",(function(){}));var V=this.getElem("settings-bar","theme-setting");V.addEventListener("change",(function(){var t,e,r=h.EditorTheme.Light;V.checked&&(r=h.EditorTheme.Dark);try{for(var n=c(L.viewMap.values()),o=n.next();!o.done;o=n.next()){o.value.editor.setTheme(r)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}})),this.getElem("settings-bar","reset-btn").addEventListener("click",(function(){window.confirm(_.RESET_CONFIRM_MSG)&&L.resetEditors()})),this.getElem("settings-bar","download-btn").addEventListener("click",(function(){return u(L,void 0,void 0,(function(){var t,e,r,n;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.downloadExample()];case 1:return t=o.sent(),e=URL.createObjectURL(t.blob),(r=document.createElement("a")).setAttribute("href",e),r.setAttribute("download",t.filename),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(e),[3,3];case 2:return n=o.sent(),this.outputArea.reset(),this.outputArea.addError(_.MACHINE_BUSY_LABEL),console.error("Error:",n),[3,3];case 3:return[2]}}))}))}));var X=this.getElem("output-area");this.outputArea=new f.OutputArea(X)}return t.prototype.collectResources=function(){var t,e,r,n,o=[];try{for(var i=c(this.viewMap),a=i.next();!a.done;a=i.next()){var s=d(a.value,2),u=s[0],l={basename:u,contents:s[1].editor.getSessionContent(u)};o.push(l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var f=c(this.shadowFiles),h=f.next();!h.done;h=f.next()){var p=h.value;o.push(p)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return o},t.prototype.serverAddress=function(t){return this.server+"/"+t+"/"},t.prototype.getElem=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=[this.id].concat(t).join(".");return v.getElemById(r)},t.prototype.buttonCB=function(t,e){return void 0===e&&(e=!1),u(this,void 0,void 0,(function(){var r,n,o,i,a,s,u,d,f=this;return l(this,(function(l){switch(l.label){case 0:this.outputArea.reset();try{for(r=c(this.viewMap.values()),n=r.next();!n.done;n=r.next())n.value.editor.clearGutterAnnotation()}catch(t){u={error:t}}finally{try{n&&!n.done&&(d=r.return)&&d.call(r)}finally{if(u)throw u.error}}this.outputArea.add(["output_info","console_output"],_.CONSOLE_OUTPUT_LABEL+":"),this.outputArea.showSpinner(!0),o=this.collectResources(),i={files:o,main:this.main,mode:t,switches:JSON.parse(this.container.dataset.switches),name:this.name,lab:e},a=new y.ServerWorker(this.server,(function(t){return f.processCheckOutput(t)})),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,a.request(i,"run_program")];case 2:return l.sent(),[3,5];case 3:return s=l.sent(),this.outputArea.addError(_.MACHINE_BUSY_LABEL),console.error("Error:",s),[3,5];case 4:return this.outputArea.showSpinner(!1),[7];case 5:return[2]}}))}))},t.prototype.downloadExample=function(){return u(this,void 0,void 0,(function(){var t,e;return l(this,(function(r){return t=this.collectResources(),e={files:t,switches:JSON.parse(this.container.dataset.switches),name:this.name},[2,p.fetchBlob(e,this.serverAddress("download"))]}))}))},t.prototype.getHomeArea=function(t){if(null!=t)throw new Error("Malformed data packet has ref in non-lab.");return this.outputArea},t.prototype.handleMsgType=function(t,e){var r,n;switch(t.type){case"console":e.addConsole(t.data);break;case"internal_error":t.data+=" "+_.INTERNAL_ERROR_MESSAGE;case"stderr":case"stdout":var o=t.data.split(/\r?\n/),i=function(t){var r=t.match(/^([a-zA-Z._0-9-]+):(\d+):(\d+):(.+)$/m),n=t.match(/^raised .+ : ([a-zA-Z._0-9-]+):(\d+) (.+)$/m),o=function(t,e,r,n){var o;""==(null===(o=window.getSelection())||void 0===o?void 0:o.toString())&&(n.header.scrollIntoView(!0),n.header.click(),n.editor.gotoLine(t,e,r))};if(5==(null==r?void 0:r.length)){var i=r[1],s=a.viewMap.get(i),u=parseInt(r[2]),l=parseInt(r[3]);if(!s)throw Error("Basename not found: "+i);0===r[4].indexOf(" info:")?(e.addInfo(t,(function(){o(i,u,l,s)})),s.editor.setGutterAnnotation(i,u,l,t,"info")):(0===r[4].indexOf(" warning:")?s.editor.setGutterAnnotation(i,u,l,t,"warning"):s.editor.setGutterAnnotation(i,u,l,t,"error"),e.addMsg(t,(function(){o(i,u,l,s)})))}else if(4==(null==n?void 0:n.length)){var c=n[1],d=a.viewMap.get(c),f=parseInt(n[2]);if(!d)throw Error("Basename not found: "+c);e.addMsg(t,(function(){o(c,f,1,d)})),d.editor.setGutterAnnotation(c,f,1,t,"error")}else e.addLine(t)},a=this;try{for(var s=c(o),u=s.next();!u.done;u=s.next()){i(u.value)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}break;default:throw e.addLine(t.data),new Error("Unhandled msg type.")}},t.prototype.processCheckOutput=function(t){var e,r,n=0;try{for(var o=c(t.output),i=o.next();!i.done;i=o.next()){var a=i.value,s=this.getHomeArea(a.ref);n++,this.handleMsgType(a.msg,s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return t.completed&&0!=t.status&&this.outputArea.addError(_.EXIT_STATUS_LABEL+": "+t.status),n},t.prototype.resetEditors=function(){var t,e;this.outputArea.reset();try{for(var r=c(this.viewMap.values()),n=r.next();!n.done;n=r.next()){n.value.editor.reset()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t}(),E=function(t){function e(e,r){var n=t.call(this,e,r)||this,o=n.getElem("lab-area");return n.labContainer=new f.LabContainer(o),n}return o(e,t),e.prototype.buttonCB=function(e,r){return void 0===r&&(r=!0),u(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return this.labContainer.reset(),[4,t.prototype.buttonCB.call(this,e,r)];case 1:return n.sent(),this.labContainer.sort(),[2]}}))}))},e.prototype.getHomeArea=function(t){return null!=t?this.labContainer.getLabArea(t):this.outputArea},e.prototype.handleMsgType=function(e,r){switch(e.type){case"lab":var n=this.labContainer.processResults(e.data);this.outputArea.addLabStatus(n);break;default:t.prototype.handleMsgType.call(this,e,r)}},e.prototype.resetEditors=function(){t.prototype.resetEditors.call(this),this.labContainer.reset()},e}(b);e.LabWidget=E,e.widgetFactory=function(t){var e,r,n=new Map;try{for(var o=c(t),i=o.next();!i.done;i=o.next()){var a=i.value;try{var s=void 0,u=a.dataset.name,l=a.dataset.lab,d=n.get(u);s="True"===l?new E(a,d):new b(a,d),n.set(u,s.viewMap)}catch(t){console.error("Error:",t),a.innerHTML="";var f=document.createElement("div");f.innerHTML="<p>An error has occured processing this widget."+_.INTERNAL_ERROR_MESSAGE+"</p>",a.appendChild(f)}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return a(e,t),e},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.LabContainer=e.makeLabArea=e.LabArea=e.OutputArea=e.Area=void 0;var l=s(r(1)),c=function(){function t(t){this.container=t}return t.prototype.add=function(t,e,r){var n=document.createElement("div");t.map((function(t){n.classList.add(t)})),n.textContent=e,this.container.appendChild(n),r&&n.addEventListener("click",r)},t.prototype.reset=function(){for(;this.container.firstChild;)this.container.removeChild(this.container.firstChild)},t.prototype.addConsole=function(t,e){this.add(["output_console"],"$ "+t,e)},t.prototype.addInfo=function(t,e){this.add(["output_msg_info"],t,e)},t.prototype.addMsg=function(t,e){this.add(["output_msg"],t,e)},t.prototype.addLine=function(t,e){this.add(["output_line"],t,e)},t}();e.Area=c;var d=function(t){function e(e){var r=t.call(this,e)||this;r.spinner=document.createElement("div"),r.spinner.classList.add("spinner");for(var n=1;n<4;n++){var o=document.createElement("div");o.classList.add("bounce"+n),r.spinner.appendChild(o)}return r}return o(e,t),e.prototype.addError=function(t,e){this.add(["output_error"],t,e)},e.prototype.addLabStatus=function(t){t?this.add(["lab_status"],l.LAB_COMPLETE_LABEL):this.add(["lab_status"],l.LAB_FAILED_LABEL)},e.prototype.showSpinner=function(t){t?this.container.appendChild(this.spinner):this.container.contains(this.spinner)&&this.container.removeChild(this.spinner)},e}(c);e.OutputArea=d;var f=function(t){function e(e,r){var n=t.call(this,r)||this;n.wrapper=document.createElement("div"),n.wrapper.classList.add("acc_wrapper"),n.ref=e,n.button=document.createElement("button"),n.button.classList.add("accordion"),n.wrapper.appendChild(n.button);var o=document.createElement("span");return o.textContent=l.TEST_CASE_LABEL+" #"+n.ref,n.button.appendChild(o),n.button.addEventListener("click",(function(){n.button.classList.toggle("active"),""==n.container.style.display||"block"==n.container.style.display?n.container.style.display="none":n.container.style.display="block"})),n.container.classList.add("lab_test_case"),n.container.style.display="none",n.wrapper.appendChild(n.container),n}return o(e,t),e.prototype.render=function(){return this.wrapper},e.prototype.resultHelper=function(t,e,r){var n=document.createElement("div");n.classList.add("lab_test_msg",t);var o=document.createElement("span");o.classList.add("lab_test_msg_title"),o.textContent=e+":",n.appendChild(o);var i=document.createElement("code");return i.textContent=r,n.appendChild(i),n},e.prototype.addResults=function(t){"Success"==t.status?(this.button.classList.add("lab_test_success"),this.container.classList.add("lab_test_success")):(this.button.classList.add("lab_test_failed"),this.container.classList.add("lab_test_failed"));var e=document.createElement("div");e.classList.add("lab_results"),this.container.appendChild(e),e.appendChild(this.resultHelper("lab_test_input",l.LAB_TEST_INPUT_LABEL,t.in)),e.appendChild(this.resultHelper("lab_test_output",l.LAB_TEST_OUTPUT_LABEL,t.out)),e.appendChild(this.resultHelper("lab_test_actual",l.LAB_TEST_ACTUAL_LABEL,t.actual)),e.appendChild(this.resultHelper("lab_test_status",l.LAB_TEST_STATUS_LABEL,t.status))},e.prototype.getRef=function(){return this.ref},e}(c);function h(t){var e=document.createElement("div");return new f(t,e)}e.LabArea=f,e.makeLabArea=h;var p=function(){function t(t){this.labList=[],this.container=t}return t.prototype.getLabArea=function(t){var e,r;try{for(var n=u(this.labList),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.getRef()==t)return i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}var a=h(t);return this.labList.push(a),a},t.prototype.processResults=function(t){for(var e in t.cases)if({}.hasOwnProperty.call(t.cases,e)){var r=t.cases[e];this.getLabArea(parseInt(e)).addResults(r)}return t.success},t.prototype.reset=function(){for(;this.container.firstChild;)this.container.removeChild(this.container.firstChild);this.labList=[]},t.prototype.sort=function(){var t=this;this.labList.sort((function(t,e){return t.getRef()-e.getRef()})).map((function(e){var r=e.render();return t.container.appendChild(r),r}))},t}();e.LabContainer=p},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=e.EditorLanguage=e.EditorTheme=void 0;var s,u,l=a(r(9));r(10),r(11),r(12),r(13),function(t){t.Light="ace/theme/tomorrow",t.Dark="ace/theme/tomorrow_night"}(s=e.EditorTheme||(e.EditorTheme={})),function(t){t.Ada="ace/mode/ada",t.C_CPP="ace/mode/c_cpp"}(u=e.EditorLanguage||(e.EditorLanguage={}));var c=function(){function t(t){this.sessions=new Map,this.maxLength=0,this.editor=l.default.edit(t),this.editor.$blockScrolling=1/0,this.editor.setShowPrintMargin(!1),this.editor.gotoLine(1),this.editor.setOptions({highlightActiveLine:!1,fontSize:13,tabSize:3,useSoftTabs:!0,theme:s.Light,minLines:this.editor.session.doc.getLength(),maxLines:50}),this.editor.selection.moveCursorTo(0,0),this.editor.renderer.setScrollMargin(5,5,0,0)}return t.prototype.destructor=function(){this.editor.destroy()},t.prototype.addSession=function(t,e){var r={initialContents:e,session:new l.default.EditSession(e)};t.match(/.ad[sb]$/)?r.session.setMode(u.Ada):r.session.setMode(u.C_CPP);var n=r.session.doc.getLength();n>this.maxLength&&(this.maxLength=n,this.editor.setOption("minLines",this.maxLength),this.editor.resize()),r.session.setUndoManager(new l.default.UndoManager),this.sessions.set(t,r)},t.prototype.getSession=function(t){var e=this.sessions.get(t);if(!e)throw Error("Unknown session with name "+t);return e},t.prototype.setSession=function(t){var e=this.getSession(t);this.editor.setSession(e.session)},t.prototype.getSessionContent=function(t){return this.getSession(t).session.getValue()},t.prototype.setTheme=function(t){this.editor.setTheme(t)},t.prototype.reset=function(){var t,e;try{for(var r=n(this.sessions.values()),o=r.next();!o.done;o=r.next()){var i=o.value;i.session.setValue(i.initialContents)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.editor.gotoLine(1),this.clearGutterAnnotation()},t.prototype.gotoLine=function(t,e,r){this.setSession(t),this.editor.gotoLine(e,r-1,!0),this.editor.focus()},t.prototype.setGutterAnnotation=function(t,e,r,n,a){var s=this.getSession(t),u=s.session.getAnnotations(),l={row:e-1,column:r,text:n,type:a};s.session.setAnnotations(i(i([],o(u)),[l]))},t.prototype.clearGutterAnnotation=function(){var t,e;try{for(var r=n(this.sessions.values()),o=r.next();!o.done;o=r.next()){o.value.session.clearAnnotations()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t}();e.Editor=c},,,,,,,function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ServerWorker=void 0;var i=r(3),a=function(){function t(t,e){this.INTERNAL_ERROR_MESSAGE="Please report this issue on https://github.com/AdaCore/learn/issues",this.server=t,this.cb=e}return t.prototype.request=function(t,e){return n(this,void 0,void 0,(function(){var r;return o(this,(function(n){switch(n.label){case 0:return[4,i.fetchJSON(t,this.serverAddress(e))];case 1:if(""==(r=n.sent()).identifier)throw new Error("No identifier sent from server.");return[4,this.getOutputFromIdentifier(r)];case 2:return n.sent(),[2]}}))}))},t.prototype.getOutputFromIdentifier=function(e,r,a){return void 0===r&&(r=0),void 0===a&&(a=0),n(this,void 0,void 0,(function(){var n,s;return o(this,(function(o){switch(o.label){case 0:return n={identifier:e.identifier,read:r},[4,i.fetchJSON(n,this.serverAddress("check_output"))];case 1:if(s=o.sent(),++a>=200)throw new Error("Request timed out. "+this.INTERNAL_ERROR_MESSAGE);return r+=this.cb(s),s.completed?[3,4]:[4,t.delay(250)];case 2:return o.sent(),[4,this.getOutputFromIdentifier(e,r,a)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},t.prototype.serverAddress=function(t){return this.server+"/"+t+"/"},t.delay=function(t){return new Promise((function(e){return setTimeout(e,t)}))},t}();e.ServerWorker=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scrollTop=void 0,e.scrollTop=function(t){t.classList.add("hide"),window.addEventListener("scroll",(function(){document.body.scrollTop>300?(t.classList.remove("hide"),t.classList.add("show")):(t.classList.remove("show"),t.classList.add("hide"))})),t.addEventListener("click",(function(){window.scrollTo(0,0)}))}}]);